# Домашнее задание 6

Создай ветку `06-email` из ветки `master`.

Зареєструватись (https://sendgrid.com/)[https://sendgrid.com/] і отримати API ключ.

## Шаг 1
У методі `register` котролера `users` . Добавити функцію (можливість) відправки ОТП коду.
- У моделі користувача добавити поля `otpCode: Number`, `registered: { type: Boolean, default: false }`. 
- для створення ОТП коду використатаи лібу. Ново згенерований код добавити до об'єкту до створення нового "користувача".
- після успішного створення "користувача" підправити листа на пошту яку введе користувач при створенні акка. Дочекатись відповіді від сендГріда і аш тоді відправити результат реєстрації користувача.
- Якщо резульатат успішний добавити меседж - що на вашу пошту прийде лист

## Шаг 2

Створити новий ендпоінт   `/api/otp/:otpCode`

- добавити цей ендпоінт у роути і створити контролер для цього
- у контролері повина бути перевірка цього отп коду
    -  на прийом має бути код який прийде на емейл і користувача емайл
    -  знайти відповідний документ по цим полям
    -  якщо все успішно, оновити у цьому документі поле `registered: true` і відправити на клієнт результат успішності і відправити відповідне мило
    -  якщо все не успішно, створити новий код записати у цей поточний документ і відправити ці нові дані на клієнт

## Шаг 3

//TODO: 
// Видалення акка + мило що все окі докі

## Шаг 4

// TODO: 
// При логіні відправляти на пошту, що ви залогувались